(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,a){e.exports={albumList:"Album_albumList__2Vsv2",albumItem:"Album_albumItem__2Ef_1",albumPhoto:"Album_albumPhoto__3QTi-",caption:"Album_caption__zE_Ss",link:"Album_link__14tzj"}},20:function(e,t,a){e.exports={header:"Layout_header__1V-LV",footer:"Layout_footer__7ZyTp",heading1:"Layout_heading1__Xk8sC"}},21:function(e,t,a){e.exports={item:"Photos_item__29cLr",fullSize:"Photos_fullSize__1thwf"}},22:function(e,t,a){e.exports={button:"Pagination_button__2x96t",indicator:"Pagination_indicator__3uFP0"}},39:function(e,t,a){e.exports={spinner:"Spinner_spinner__1Nh-g",spin:"Spinner_spin__exvrK"}},40:function(e,t,a){e.exports={backdrop:"Backdrop_backdrop__1mZAf"}},42:function(e,t,a){e.exports=a(76)},47:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(35),s=a.n(l),c=(a(47),a(13)),u=a(14),i=a(17),o=a(15),m=a(18),p=a(16),h=a(11),f=a(20),b=function(){return r.a.createElement("nav",{className:f.header},r.a.createElement("h1",{className:f.heading1},"React Album App"))},g=function(){return r.a.createElement("footer",{className:f.footer},r.a.createElement("p",null,"Author: Jakub Skoneczny, Portfolio ",r.a.createElement("a",{href:"https://jskoneczny.pl",target:"_blank",rel:"noopener noreferrer"},"jskoneczny.pl")))},d=a(1),E=a.n(d),_=a(10),v=a(4),x=a(36),P=a.n(x).a.create({baseURL:"https://jsonplaceholder.typicode.com/"}),k=a(9),w=a(12),j=function(e){return r.a.createElement("div",{className:w.albumItem},r.a.createElement(p.b,{to:"/albums/".concat(e.id),className:w.link},r.a.createElement("figure",null,r.a.createElement("img",{className:w.albumPhoto,alt:"",src:"https://user-images.githubusercontent.com/101482/29592647-40da86ca-875a-11e7-8bc3-941700b0a323.png"}),r.a.createElement("figcaption",{className:w.caption},r.a.createElement("p",null,r.a.createElement("strong",null,"Title:")," ",e.title),r.a.createElement("p",null,r.a.createElement("strong",null,"Author:")," ",e.username)))))},O=function(e){return r.a.createElement("ul",{className:w.albumList},e.albums.map(function(e){return r.a.createElement(j,{key:e.id,id:e.id,title:e.title,username:e.username})}))},N=a(22),S=function(e){return r.a.createElement("div",null,e.isPrev?r.a.createElement("button",{className:N.button,onClick:e.prevPage},"Prev"):null,r.a.createElement("span",{className:N.indicator},e.current?e.current:null),e.isNext?r.a.createElement("button",{className:N.button,onClick:e.nextPage},"Next"):null)},y=a(41),z=a(39),A=function(){return r.a.createElement("div",{className:z.spinner})},U=function(e){return function(t){var a=t.loading,n=Object(y.a)(t,["loading"]);return a?r.a.createElement(A,null):r.a.createElement(e,n)}},L=U(O),C=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).getAlbums=Object(v.a)(E.a.mark(function e(){var t,n,r,l,s,c,u,i,o,m=arguments;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:1,a.setState(Object(_.a)({},a.state,{loading:!0})),e.next=4,P.get("albums?_page=".concat(t,"&_limit=").concat(a.state.perPage));case 4:n=e.sent,r=!0,l=!1,s=void 0,e.prev=8,c=n.data[Symbol.iterator]();case 10:if(r=(u=c.next()).done){e.next=19;break}return i=u.value,e.next=14,a.getUsername(i.userId);case 14:o=e.sent,i.username=o;case 16:r=!0,e.next=10;break;case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(8),l=!0,s=e.t0;case 25:e.prev=25,e.prev=26,r||null==c.return||c.return();case 28:if(e.prev=28,!l){e.next=31;break}throw s;case 31:return e.finish(28);case 32:return e.finish(25);case 33:a.pagination(n.headers.link),a.setState(Object(_.a)({},a.state,{page:t,albums:n.data,loading:!1}));case 35:case"end":return e.stop()}},e,null,[[8,21,25,33],[26,,28,32]])})),a.getUsername=function(){var e=Object(v.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("users/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data.username);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.pagination=function(e){var t=e.split(","),n={nextPage:!1,prevPage:!1};t.forEach(function(e){switch(e.split(";")[1].replace(/\s/g,"")){case'rel="next"':n.nextPage=!0;break;case'rel="prev"':n.prevPage=!0}a.setState(Object(_.a)({},a.state,n))})},a.loadNextPage=Object(v.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getAlbums(a.state.page+1);case 2:case"end":return e.stop()}},e)})),a.loadPrevPage=Object(v.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getAlbums(a.state.page-1);case 2:case"end":return e.stop()}},e)})),a.state={perPage:10,page:null,prevPage:!1,nextPage:!1,albums:[],loading:!1},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(E.a.mark(function e(){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAlbums();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.nextPage,a=e.prevPage,n=e.page,l=e.albums,s=e.loading;return r.a.createElement("main",null,r.a.createElement("div",{className:k.titleBar},r.a.createElement("h1",{className:k.heading1},"See all albums"),r.a.createElement(S,{isNext:t,isPrev:a,current:n,nextPage:this.loadNextPage,prevPage:this.loadPrevPage})),r.a.createElement(L,{loading:s,albums:l}))}}]),t}(n.Component),B=a(21),F=function(e){return r.a.createElement("figure",{className:B.item,onClick:function(){e.fullSize(e.url)}},r.a.createElement("img",{src:e.thumbnailUrl,alt:""}),r.a.createElement("figcaption",null,e.title))},I=function(e){return e.photos.map(function(t){return r.a.createElement(F,Object.assign({key:t.id},t,{fullSize:e.photoClick}))})},T=a(8),R=function(e){return r.a.createElement("div",null,r.a.createElement("h3",{className:T.marginTop},"Info:"),r.a.createElement("ul",{className:T.list},r.a.createElement("li",null,"Name: ",r.a.createElement("em",null,e.user.name)),r.a.createElement("li",null,"Email: ",r.a.createElement("em",null,e.user.email)),r.a.createElement("li",null,"Phone: ",r.a.createElement("em",null,e.user.phone)),r.a.createElement("li",null,"Website: ",r.a.createElement("em",null,e.user.website))))},D=function(e){return r.a.createElement("div",null,r.a.createElement("h3",{className:T.marginTop},"Recent Posts:"),r.a.createElement("ul",{className:T.list},e.posts.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("em",null,"Title: ",e.title))})))},H=function(e){return r.a.createElement("div",{className:T.authorDetails},r.a.createElement("h2",{className:T.authorHeading},"Author Details"),r.a.createElement(R,{user:e.info}),r.a.createElement(D,{posts:e.posts}))},J=function(e){return e.children},V=a(40),M=function(e){return e.show?r.a.createElement("div",{className:V.backdrop,onClick:e.close}):null},X=function(e){return e.show?r.a.createElement(J,null,r.a.createElement(M,{show:e.show,close:e.close}),r.a.createElement("figure",{className:B.fullSize},r.a.createElement("img",{src:e.url,alt:""}))):null},K=U(J),W=function(e){function t(e){var a;Object(c.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).getAlbum=function(){var e=Object(v.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("albums/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getUser=function(){var e=Object(v.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("users/".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getAlbumPhotos=function(){var e=Object(v.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("photos?albumId=".concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.getUserPosts=function(){var e=Object(v.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("posts?userId=".concat(t,"&_limit=2"));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.displayFullSize=function(e){a.setState(Object(_.a)({},a.state,{imgFullSize:!0,fullSizeURL:e}))},a.closeFullSize=function(){a.setState(Object(_.a)({},a.state,{imgFullSize:!1,fullSizeURL:null}))};var n=a.props.match;return a.state={album:{id:n.params.id,title:null},user:{id:null,name:null,email:null,phone:null,website:null},photos:[],posts:[],loading:!1,imgFullSize:!1,fullSizeURL:null},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=Object(v.a)(E.a.mark(function e(){var t,a,n,r,l,s,c,u,i,o,m,p,h;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState(Object(_.a)({},this.state,{loading:!0})),e.next=3,this.getAlbum(this.state.album.id);case 3:return t=e.sent,a=t.userId,n=t.id,r=t.title,l={id:n,title:r},e.next=8,this.getUser(a);case 8:return s=e.sent,c=s.name,u=s.email,i=s.phone,o=s.website,m={id:a,name:c,email:u,phone:i,website:o},e.next=13,this.getAlbumPhotos(n);case 13:return p=e.sent,e.next=16,this.getUserPosts(a);case 16:h=e.sent,this.setState({album:l,user:m,photos:p,posts:h,loading:!1});case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("main",null,r.a.createElement(K,{loading:this.state.loading},r.a.createElement("div",{className:k.titleBar},r.a.createElement("h1",{className:k.heading1},"Album: ",this.state.album.title),r.a.createElement(p.b,{className:k.closeBtn,to:"/"},"Close X")),r.a.createElement("div",{className:k.photosPage},r.a.createElement(I,{photos:this.state.photos,photoClick:this.displayFullSize}),r.a.createElement(H,{info:this.state.user,posts:this.state.posts}))),r.a.createElement(X,{show:this.state.imgFullSize,url:this.state.fullSizeURL,close:this.closeFullSize}))}}]),t}(n.Component),Z=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(J,null,r.a.createElement(b,null),r.a.createElement(h.a,{exact:!0,path:"/",component:C}),r.a.createElement(h.a,{path:"/albums/:id",component:W}),r.a.createElement(g,null)))}}]),t}(n.Component);s.a.render(r.a.createElement(Z,null),document.getElementById("root"))},8:function(e,t,a){e.exports={authorDetails:"User_authorDetails__Ma-O3",list:"User_list__3PfDX",marginTop:"User_marginTop__1bWh-",authorHeading:"User_authorHeading__2VwRJ"}},9:function(e,t,a){e.exports={photosPage:"Page_photosPage__1aBbp",titleBar:"Page_titleBar__9TYHd",closeBtn:"Page_closeBtn__77OHK",heading1:"Page_heading1__1_Jfy"}}},[[42,1,2]]]);
//# sourceMappingURL=main.88ee93cf.chunk.js.map